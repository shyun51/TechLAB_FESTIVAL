<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>야바위 게임</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <h1>야바위 게임</h1>
    <nav class="tabs">
      <button id="tab-home" class="tab active">홈</button>
      <button id="tab-game" class="tab">게임</button>
      <button id="tab-result" class="tab">결과</button>
    </nav>
  </header>

  <main>
    <!-- 홈 화면 -->
    <section id="view-home" class="view active" aria-label="홈 화면">
      <div class="panel">
        <h2>시작하기</h2>
        <p>난이도를 고르고 게임을 시작하세요.</p>
        <div class="row">
          <label for="level">난이도</label>
          <select id="level" aria-label="난이도 선택">
            <option value="1">1단계 — 느리고 3개</option>
            <option value="2">2단계 — 보통 5개</option>
            <option value="3">3단계 — 아주 빠르고 5개</option>
            <option value="4">4단계 — 찍기(초고속·숨김 셔플)</option>
          </select>
        </div>
        <div class="row">
          <button id="btn-setup" class="primary">게임 시작</button>
        </div>
        <div class="row">
          <button id="btn-rules">규칙 보기</button>
          <button id="btn-leaderboard">순위 보기</button>
        </div>
      </div>
    </section>

    <!-- 게임 화면 -->
    <section id="view-game" class="view" aria-label="게임 화면">
      <div class="sidebar panel">
        <div class="hud">
          <div><strong>상태</strong> <span id="hud-state">준비</span></div>
          <div><strong>라운드</strong> <span id="hud-round">0</span></div>
          <div><strong>성공</strong> <span id="hud-score">0</span></div>
          <div><strong>실패</strong> <span id="hud-miss">0</span></div>
        </div>
        <div class="row btns">
          <button id="btn-shuffle" disabled>섞기</button>
          <button id="btn-reveal" disabled title="4단계에서만 사용 가능">정답 공개</button>
          <button id="btn-restart">처음으로</button>
        </div>
      </div>

      <div class="stage panel">
        <div id="table">
          <div id="board" aria-live="polite" aria-label="게임 보드"></div>
          <div id="ball" aria-hidden="true"></div>
        </div>
        <p class="tip">
          모든 단계에서 공이 잠깐 보였다가 숨습니다. 셔플 중에는 공이 완전히 숨겨집니다.
        </p>
      </div>
    </section>

    <!-- 결과 화면 -->
    <section id="view-result" class="view" aria-label="결과 화면">
      <div class="panel">
        <h2>결과</h2>
        <p>성공 <strong id="res-score">0</strong> · 실패 <strong id="res-miss">0</strong></p>
        <div class="row">
          <label for="player-name">이름</label>
          <input id="player-name" placeholder="이름 입력" />
          <button id="btn-save">점수 저장</button>
        </div>
        <div class="row">
          <button id="btn-to-home">다시 홈으로</button>
        </div>
      </div>
    </section>
  </main>

  <!-- 규칙 모달 -->
  <dialog id="modal-rules">
    <h3>게임 규칙</h3>
    <ol>
      <li>난이도를 고른 뒤 <em>게임 시작</em>을 누릅니다.</li>
      <li>섞기가 끝나면 공이 있는 컵을 맞춰주세요.</li>
      <li>모든 단계에서 셔플 중에는 공이 숨겨집니다. 4단계에서는 <em>정답 공개</em>를 1회 사용할 수 있습니다.</li>
    </ol>
    <form method="dialog">
      <button>닫기</button>
    </form>
  </dialog>

  <!-- 순위 모달 -->
  <dialog id="modal-leader">
    <h3>순위표</h3>
    <table id="tbl-leader">
      <thead>
        <tr><th>순위</th><th>이름</th><th>성공</th><th>실패</th><th>점수</th><th>시간</th></tr>
      </thead>
      <tbody></tbody>
    </table>
    <form method="dialog">
      <button>닫기</button>
    </form>
  </dialog>

  <footer class="site-footer">
    <small>© Tech.LAB • Shell Game</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
